{"ast":null,"code":"var _jsxFileName = \"/Users/max/mathocr-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport PdfUploader from './components/PdfUploader';\nimport Tesseract from 'tesseract.js';\nimport { extractTableFromImageWithFetch } from './utils/openaiVisionFetch';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [ocrResult, setOcrResult] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageRotation, setImageRotation] = useState(0);\n  const [isEditing, setIsEditing] = useState(false);\n  const [finalResult, setFinalResult] = useState('');\n\n  // 이미지 회전 핸들러\n  const handleImageRotate = () => {\n    setImageRotation(prev => (prev + 90) % 360);\n  };\n\n  // OCR 실행 함수\n  const handleOcr = async () => {\n    if (!uploadedFile) {\n      alert('먼저 파일을 업로드해주세요.');\n      return;\n    }\n    setIsLoading(true);\n    setOcrResult('');\n    setIsEditing(false);\n    setFinalResult('');\n    try {\n      let imageUrl = '';\n      if (uploadedFile.type === 'image/jpeg') {\n        imageUrl = URL.createObjectURL(uploadedFile);\n      } else if (uploadedFile.type === 'application/pdf') {\n        alert('PDF의 경우, 현재는 JPG만 OCR이 지원됩니다.');\n        setIsLoading(false);\n        return;\n      }\n\n      // 1. 우선 무료 Tesseract로 인식 시도\n      const {\n        data: {\n          text,\n          confidence\n        }\n      } = await Tesseract.recognize(imageUrl, 'kor+eng', {\n        logger: m => console.log(m)\n      });\n\n      // 2. 결과가 너무 짧거나 신뢰도가 낮으면 구글 Vision API로 재시도\n      if (!text || text.length < 10 || typeof confidence === 'number' && confidence < 60) {\n        try {\n          // FormData 생성\n          const formData = new FormData();\n          formData.append('image', uploadedFile);\n\n          // 백엔드 서버로 이미지 전송\n          const response = await fetch('http://localhost:5001/api/ocr', {\n            method: 'POST',\n            body: formData\n          });\n          if (!response.ok) {\n            throw new Error('Vision API 요청 실패');\n          }\n          const result = await response.json();\n          if (result.error) {\n            throw new Error(result.error);\n          }\n          setOcrResult(result.text);\n        } catch (visionError) {\n          console.error('Vision API 에러:', visionError);\n          setOcrResult('OCR 처리 중 오류가 발생했습니다. 다시 시도해주세요.');\n        }\n      } else {\n        setOcrResult(text);\n      }\n      setIsEditing(true);\n    } catch (error) {\n      console.error('OCR 에러:', error);\n      setOcrResult('OCR 처리 중 오류가 발생했습니다.');\n    }\n    setIsLoading(false);\n  };\n\n  // 인식 결과 수정 핸들러\n  const handleResultChange = e => {\n    setOcrResult(e.target.value);\n  };\n\n  // 수정 완료\n  const handleEditDone = () => {\n    setIsEditing(false);\n    setFinalResult(ocrResult);\n  };\n\n  // 재수정\n  const handleEditAgain = () => {\n    setIsEditing(true);\n  };\n\n  // 반응형 레이아웃 스타일\n  const isMobile = window.innerWidth < 700;\n  const containerStyle = isMobile ? {\n    display: 'block'\n  } : {\n    display: 'flex',\n    gap: 24,\n    alignItems: 'stretch'\n  };\n  const leftBoxStyle = {\n    flex: 1,\n    minWidth: isMobile ? '100%' : 240,\n    background: '#fafbfc',\n    borderRadius: 12,\n    boxShadow: '0 2px 8px #eee',\n    padding: 16,\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    minHeight: 320\n  };\n  const rightBoxStyle = {\n    flex: 2,\n    background: '#f5f5f5',\n    borderRadius: 12,\n    boxShadow: '0 2px 8px #eee',\n    padding: 16,\n    boxSizing: 'border-box',\n    minHeight: 320,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start'\n  };\n  const handleVisionExtract = async () => {\n    if (!uploadedFile) {\n      alert('이미지를 먼저 업로드하세요.');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const apiKey = process.env.REACT_APP_OPENAI_API_KEY;\n      const result = await extractTableFromImageWithFetch(uploadedFile, apiKey);\n      setOcrResult(result);\n      setIsEditing(false);\n      setFinalResult(result);\n    } catch (e) {\n      setOcrResult('Vision API 처리 중 오류가 발생했습니다.');\n    }\n    setIsLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #e3f2fd 0%, #fce4ec 100%)',\n      fontFamily: 'Pretendard, Noto Sans KR, sans-serif',\n      padding: 32\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 900,\n        margin: '0 auto',\n        background: '#fff',\n        borderRadius: 16,\n        boxShadow: '0 4px 24px #e3e3e3',\n        padding: 32\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: '#1976d2',\n          marginBottom: 24\n        },\n        children: \"\\uC218\\uD559 \\uBB38\\uC81C \\uC790\\uB3D9 \\uCC44\\uC810 \\uC6F9\\uC571\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: containerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: leftBoxStyle,\n          children: /*#__PURE__*/_jsxDEV(PdfUploader, {\n            onFileSelect: setUploadedFile,\n            onImageRotate: handleImageRotate,\n            imageRotation: imageRotation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: rightBoxStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleOcr,\n            style: {\n              background: '#1976d2',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 8,\n              padding: '12px 24px',\n              fontSize: 16,\n              cursor: 'pointer',\n              marginBottom: 16\n            },\n            disabled: isLoading || !uploadedFile,\n            children: isLoading ? '인식 중...' : '손글씨/숫자 인식(OCR) 시작'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVisionExtract,\n            style: {\n              background: '#8e24aa',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 8,\n              padding: '12px 24px',\n              fontSize: 16,\n              cursor: 'pointer',\n              marginBottom: 16,\n              marginLeft: 8\n            },\n            disabled: isLoading || !uploadedFile,\n            children: \"Vision API\\uB85C \\uD45C \\uCD94\\uCD9C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), (ocrResult || finalResult) && uploadedFile && uploadedFile.type === 'image/jpeg' && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: '#388e3c'\n              },\n              children: \"\\uC778\\uC2DD \\uACB0\\uACFC (\\uC218\\uC815 \\uAC00\\uB2A5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: ocrResult,\n                onChange: handleResultChange,\n                rows: 10,\n                style: {\n                  width: '100%',\n                  fontSize: 16,\n                  borderRadius: 8,\n                  border: '1px solid #ccc',\n                  padding: 12,\n                  resize: 'vertical'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleEditDone,\n                  style: {\n                    background: '#388e3c',\n                    color: '#fff',\n                    border: 'none',\n                    borderRadius: 8,\n                    padding: '8px 20px',\n                    fontSize: 15,\n                    cursor: 'pointer',\n                    marginRight: 8\n                  },\n                  children: \"\\uC644\\uB8CC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"pre\", {\n                style: {\n                  background: '#fff',\n                  padding: 16,\n                  borderRadius: 8,\n                  whiteSpace: 'pre-wrap',\n                  fontSize: 16\n                },\n                children: finalResult\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleEditAgain,\n                style: {\n                  background: '#1976d2',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: 8,\n                  padding: '8px 20px',\n                  fontSize: 15,\n                  cursor: 'pointer',\n                  marginTop: 8\n                },\n                children: \"\\uC7AC\\uC218\\uC815\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      style: {\n        textAlign: 'center',\n        marginTop: 48,\n        color: '#888'\n      },\n      children: [\"\\xA9 \", new Date().getFullYear(), \" MathOCR. Powered by React & Tesseract.js\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"zyZPttBVP8GlwLczVe9JI4gdKKY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","PdfUploader","Tesseract","extractTableFromImageWithFetch","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","uploadedFile","setUploadedFile","ocrResult","setOcrResult","isLoading","setIsLoading","imageRotation","setImageRotation","isEditing","setIsEditing","finalResult","setFinalResult","handleImageRotate","prev","handleOcr","alert","imageUrl","type","URL","createObjectURL","data","text","confidence","recognize","logger","m","console","log","length","formData","FormData","append","response","fetch","method","body","ok","Error","result","json","error","visionError","handleResultChange","e","target","value","handleEditDone","handleEditAgain","isMobile","window","innerWidth","containerStyle","display","gap","alignItems","leftBoxStyle","flex","minWidth","background","borderRadius","boxShadow","padding","boxSizing","flexDirection","justifyContent","minHeight","rightBoxStyle","handleVisionExtract","apiKey","process","env","REACT_APP_OPENAI_API_KEY","style","fontFamily","children","maxWidth","margin","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onFileSelect","onImageRotate","onClick","border","fontSize","cursor","disabled","marginLeft","width","onChange","rows","resize","marginTop","marginRight","whiteSpace","textAlign","Date","getFullYear","_c","$RefreshReg$"],"sources":["/Users/max/mathocr-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PdfUploader from './components/PdfUploader';\nimport Tesseract from 'tesseract.js';\nimport { extractTableFromImageWithFetch } from './utils/openaiVisionFetch';\n\nfunction App() {\n  const [uploadedFile, setUploadedFile] = useState(null);\n  const [ocrResult, setOcrResult] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [imageRotation, setImageRotation] = useState(0);\n  const [isEditing, setIsEditing] = useState(false);\n  const [finalResult, setFinalResult] = useState('');\n\n  // 이미지 회전 핸들러\n  const handleImageRotate = () => {\n    setImageRotation((prev) => (prev + 90) % 360);\n  };\n\n  // OCR 실행 함수\n  const handleOcr = async () => {\n    if (!uploadedFile) {\n      alert('먼저 파일을 업로드해주세요.');\n      return;\n    }\n    setIsLoading(true);\n    setOcrResult('');\n    setIsEditing(false);\n    setFinalResult('');\n    try {\n      let imageUrl = '';\n      if (uploadedFile.type === 'image/jpeg') {\n        imageUrl = URL.createObjectURL(uploadedFile);\n      } else if (uploadedFile.type === 'application/pdf') {\n        alert('PDF의 경우, 현재는 JPG만 OCR이 지원됩니다.');\n        setIsLoading(false);\n        return;\n      }\n\n      // 1. 우선 무료 Tesseract로 인식 시도\n      const { data: { text, confidence } } = await Tesseract.recognize(\n        imageUrl,\n        'kor+eng',\n        { logger: m => console.log(m) }\n      );\n\n      // 2. 결과가 너무 짧거나 신뢰도가 낮으면 구글 Vision API로 재시도\n      if (!text || text.length < 10 || (typeof confidence === 'number' && confidence < 60)) {\n        try {\n          // FormData 생성\n          const formData = new FormData();\n          formData.append('image', uploadedFile);\n\n          // 백엔드 서버로 이미지 전송\n          const response = await fetch('http://localhost:5001/api/ocr', {\n            method: 'POST',\n            body: formData\n          });\n\n          if (!response.ok) {\n            throw new Error('Vision API 요청 실패');\n          }\n\n          const result = await response.json();\n          if (result.error) {\n            throw new Error(result.error);\n          }\n\n          setOcrResult(result.text);\n        } catch (visionError) {\n          console.error('Vision API 에러:', visionError);\n          setOcrResult('OCR 처리 중 오류가 발생했습니다. 다시 시도해주세요.');\n        }\n      } else {\n        setOcrResult(text);\n      }\n      setIsEditing(true);\n    } catch (error) {\n      console.error('OCR 에러:', error);\n      setOcrResult('OCR 처리 중 오류가 발생했습니다.');\n    }\n    setIsLoading(false);\n  };\n\n  // 인식 결과 수정 핸들러\n  const handleResultChange = (e) => {\n    setOcrResult(e.target.value);\n  };\n\n  // 수정 완료\n  const handleEditDone = () => {\n    setIsEditing(false);\n    setFinalResult(ocrResult);\n  };\n\n  // 재수정\n  const handleEditAgain = () => {\n    setIsEditing(true);\n  };\n\n  // 반응형 레이아웃 스타일\n  const isMobile = window.innerWidth < 700;\n  const containerStyle = isMobile\n    ? { display: 'block' }\n    : { display: 'flex', gap: 24, alignItems: 'stretch' };\n\n  const leftBoxStyle = {\n    flex: 1,\n    minWidth: isMobile ? '100%' : 240,\n    background: '#fafbfc',\n    borderRadius: 12,\n    boxShadow: '0 2px 8px #eee',\n    padding: 16,\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    minHeight: 320\n  };\n\n  const rightBoxStyle = {\n    flex: 2,\n    background: '#f5f5f5',\n    borderRadius: 12,\n    boxShadow: '0 2px 8px #eee',\n    padding: 16,\n    boxSizing: 'border-box',\n    minHeight: 320,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    justifyContent: 'flex-start'\n  };\n\n  const handleVisionExtract = async () => {\n    if (!uploadedFile) {\n      alert('이미지를 먼저 업로드하세요.');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const apiKey = process.env.REACT_APP_OPENAI_API_KEY;\n      const result = await extractTableFromImageWithFetch(uploadedFile, apiKey);\n      setOcrResult(result);\n      setIsEditing(false);\n      setFinalResult(result);\n    } catch (e) {\n      setOcrResult('Vision API 처리 중 오류가 발생했습니다.');\n    }\n    setIsLoading(false);\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #e3f2fd 0%, #fce4ec 100%)',\n      fontFamily: 'Pretendard, Noto Sans KR, sans-serif',\n      padding: 32\n    }}>\n      <div style={{\n        maxWidth: 900,\n        margin: '0 auto',\n        background: '#fff',\n        borderRadius: 16,\n        boxShadow: '0 4px 24px #e3e3e3',\n        padding: 32\n      }}>\n        <h1 style={{ color: '#1976d2', marginBottom: 24 }}>수학 문제 자동 채점 웹앱</h1>\n        <div style={containerStyle}>\n          {/* 왼쪽: PdfUploader (미리보기만) */}\n          <div style={leftBoxStyle}>\n            <PdfUploader\n              onFileSelect={setUploadedFile}\n              onImageRotate={handleImageRotate}\n              imageRotation={imageRotation}\n            />\n          </div>\n          {/* 오른쪽: 인식 결과 및 수정 */}\n          <div style={rightBoxStyle}>\n            <button\n              onClick={handleOcr}\n              style={{\n                background: '#1976d2', color: '#fff', border: 'none', borderRadius: 8,\n                padding: '12px 24px', fontSize: 16, cursor: 'pointer', marginBottom: 16\n              }}\n              disabled={isLoading || !uploadedFile}\n            >\n              {isLoading ? '인식 중...' : '손글씨/숫자 인식(OCR) 시작'}\n            </button>\n            <button\n              onClick={handleVisionExtract}\n              style={{\n                background: '#8e24aa', color: '#fff', border: 'none', borderRadius: 8,\n                padding: '12px 24px', fontSize: 16, cursor: 'pointer', marginBottom: 16, marginLeft: 8\n              }}\n              disabled={isLoading || !uploadedFile}\n            >\n              Vision API로 표 추출\n            </button>\n            {(ocrResult || finalResult) && uploadedFile && uploadedFile.type === 'image/jpeg' && (\n              <div style={{ width: '100%' }}>\n                <h3 style={{ color: '#388e3c' }}>인식 결과 (수정 가능)</h3>\n                {isEditing ? (\n                  <>\n                    <textarea\n                      value={ocrResult}\n                      onChange={handleResultChange}\n                      rows={10}\n                      style={{\n                        width: '100%',\n                        fontSize: 16,\n                        borderRadius: 8,\n                        border: '1px solid #ccc',\n                        padding: 12,\n                        resize: 'vertical'\n                      }}\n                    />\n                    <div style={{ marginTop: 8 }}>\n                      <button\n                        onClick={handleEditDone}\n                        style={{\n                          background: '#388e3c', color: '#fff', border: 'none', borderRadius: 8,\n                          padding: '8px 20px', fontSize: 15, cursor: 'pointer', marginRight: 8\n                        }}\n                      >완료</button>\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    <pre style={{\n                      background: '#fff', padding: 16, borderRadius: 8,\n                      whiteSpace: 'pre-wrap', fontSize: 16\n                    }}>{finalResult}</pre>\n                    <button\n                      onClick={handleEditAgain}\n                      style={{\n                        background: '#1976d2', color: '#fff', border: 'none', borderRadius: 8,\n                        padding: '8px 20px', fontSize: 15, cursor: 'pointer', marginTop: 8\n                      }}\n                    >재수정</button>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <footer style={{ textAlign: 'center', marginTop: 48, color: '#888' }}>\n        © {new Date().getFullYear()} MathOCR. Powered by React & Tesseract.js\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}