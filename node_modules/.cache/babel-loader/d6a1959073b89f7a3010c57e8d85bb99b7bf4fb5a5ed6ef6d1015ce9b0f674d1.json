{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\atom2\\\\mathocr\\\\mathocr-app\\\\src\\\\components\\\\PdfUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PdfUploader({\n  onFileSelect,\n  onImageRotate,\n  imageRotation\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n\n  // 파일 업로드 핸들러\n  const handleFileChange = event => {\n    const uploadedFile = event.target.files[0];\n    if (!uploadedFile) return;\n    if (uploadedFile.type === 'application/pdf' || uploadedFile.type === 'image/jpeg') {\n      setFile(uploadedFile);\n      onFileSelect(uploadedFile);\n    } else {\n      alert('PDF 또는 JPG 파일만 업로드 가능합니다.');\n    }\n  };\n\n  // PDF 로드 성공 시 페이지 수 저장\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: '24px 0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: '#1976d2'\n      },\n      children: \"\\uBB38\\uC81C \\uD480\\uC774 \\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".pdf,.jpg\",\n      onChange: handleFileChange,\n      style: {\n        marginBottom: 16\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), file && file.type === 'application/pdf' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #eee',\n        borderRadius: 8,\n        padding: 8,\n        background: '#fafbfc'\n      },\n      children: /*#__PURE__*/_jsxDEV(Document, {\n        file: file,\n        onLoadSuccess: onDocumentLoadSuccess,\n        children: Array.from(new Array(numPages), (el, idx) => /*#__PURE__*/_jsxDEV(Page, {\n          pageNumber: idx + 1\n        }, `page_${idx + 1}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this), file && file.type === 'image/jpeg' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        display: 'inline-block'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: URL.createObjectURL(file),\n        alt: \"\\uC5C5\\uB85C\\uB4DC\\uB41C \\uC774\\uBBF8\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30\",\n        style: {\n          maxWidth: '100%',\n          marginTop: 16,\n          borderRadius: 8,\n          boxShadow: '0 2px 8px #eee',\n          transform: `rotate(${imageRotation}deg)`,\n          transition: 'transform 0.2s'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onImageRotate,\n        style: {\n          position: 'absolute',\n          top: 10,\n          right: 10,\n          background: '#1976d2',\n          color: '#fff',\n          border: 'none',\n          borderRadius: '50%',\n          width: 36,\n          height: 36,\n          fontSize: 20,\n          cursor: 'pointer',\n          boxShadow: '0 2px 8px #bbb'\n        },\n        title: \"\\uC774\\uBBF8\\uC9C0 90\\uB3C4 \\uD68C\\uC804\",\n        children: \"\\u27F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(PdfUploader, \"pXwC9i82Phbps8CJN5PR7KRm9Ic=\");\n_c = PdfUploader;\nexport default PdfUploader;\nvar _c;\n$RefreshReg$(_c, \"PdfUploader\");","map":{"version":3,"names":["React","useState","Document","Page","jsxDEV","_jsxDEV","PdfUploader","onFileSelect","onImageRotate","imageRotation","_s","file","setFile","numPages","setNumPages","handleFileChange","event","uploadedFile","target","files","type","alert","onDocumentLoadSuccess","style","margin","children","color","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","marginBottom","border","borderRadius","padding","background","onLoadSuccess","Array","from","el","idx","pageNumber","position","display","src","URL","createObjectURL","alt","maxWidth","marginTop","boxShadow","transform","transition","onClick","top","right","width","height","fontSize","cursor","title","_c","$RefreshReg$"],"sources":["C:/Users/atom2/mathocr/mathocr-app/src/components/PdfUploader.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\n\nfunction PdfUploader({ onFileSelect, onImageRotate, imageRotation }) {\n  const [file, setFile] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n\n  // 파일 업로드 핸들러\n  const handleFileChange = (event) => {\n    const uploadedFile = event.target.files[0];\n    if (!uploadedFile) return;\n\n    if (\n      uploadedFile.type === 'application/pdf' ||\n      uploadedFile.type === 'image/jpeg'\n    ) {\n      setFile(uploadedFile);\n      onFileSelect(uploadedFile);\n    } else {\n      alert('PDF 또는 JPG 파일만 업로드 가능합니다.');\n    }\n  };\n\n  // PDF 로드 성공 시 페이지 수 저장\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n  };\n\n  return (\n    <div style={{ margin: '24px 0' }}>\n      <h2 style={{ color: '#1976d2' }}>문제 풀이 파일 업로드</h2>\n      <input type=\"file\" accept=\".pdf,.jpg\" onChange={handleFileChange} style={{ marginBottom: 16 }} />\n      {file && file.type === 'application/pdf' && (\n        <div style={{ border: '1px solid #eee', borderRadius: 8, padding: 8, background: '#fafbfc' }}>\n          <Document file={file} onLoadSuccess={onDocumentLoadSuccess}>\n            {Array.from(new Array(numPages), (el, idx) => (\n              <Page key={`page_${idx + 1}`} pageNumber={idx + 1} />\n            ))}\n          </Document>\n        </div>\n      )}\n      {file && file.type === 'image/jpeg' && (\n        <div style={{ position: 'relative', display: 'inline-block' }}>\n          <img\n            src={URL.createObjectURL(file)}\n            alt=\"업로드된 이미지 미리보기\"\n            style={{\n              maxWidth: '100%',\n              marginTop: 16,\n              borderRadius: 8,\n              boxShadow: '0 2px 8px #eee',\n              transform: `rotate(${imageRotation}deg)`,\n              transition: 'transform 0.2s'\n            }}\n          />\n          <button\n            onClick={onImageRotate}\n            style={{\n              position: 'absolute',\n              top: 10,\n              right: 10,\n              background: '#1976d2',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '50%',\n              width: 36,\n              height: 36,\n              fontSize: 20,\n              cursor: 'pointer',\n              boxShadow: '0 2px 8px #bbb'\n            }}\n            title=\"이미지 90도 회전\"\n          >⟳</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PdfUploader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}