{"ast":null,"code":"var _jsxFileName = \"/Users/max/mathocr-app/src/components/PdfUploader.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PdfUploader({\n  onFileSelect,\n  onImageRotate,\n  imageRotation\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n\n  // 파일 업로드 핸들러\n  const handleFileChange = event => {\n    const uploadedFile = event.target.files[0];\n    if (!uploadedFile) return;\n    if (uploadedFile.type === 'application/pdf' || uploadedFile.type === 'image/jpeg') {\n      setFile(uploadedFile);\n      onFileSelect(uploadedFile);\n    } else {\n      alert('PDF 또는 JPG 파일만 업로드 가능합니다.');\n    }\n  };\n\n  // PDF 로드 성공 시 페이지 수 저장\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n  };\n\n  // 반응형: PC는 왼쪽, 모바일은 위쪽에 미리보기\n  const isMobile = window.innerWidth < 700;\n  const previewStyle = {\n    maxWidth: isMobile ? '100%' : 220,\n    maxHeight: 300,\n    borderRadius: 8,\n    boxShadow: '0 2px 8px #eee',\n    marginTop: 16,\n    marginBottom: 8,\n    objectFit: 'contain',\n    display: 'block',\n    background: '#fff'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minWidth: isMobile ? '100%' : 240,\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: '#1976d2',\n        fontSize: 18,\n        marginBottom: 8\n      },\n      children: \"\\uBB38\\uC81C \\uD480\\uC774 \\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".pdf,.jpg\",\n      onChange: handleFileChange,\n      style: {\n        marginBottom: 8\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), file && file.type === 'application/pdf' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...previewStyle,\n        padding: 4,\n        border: '1px solid #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Document, {\n        file: file,\n        onLoadSuccess: onDocumentLoadSuccess,\n        children: /*#__PURE__*/_jsxDEV(Page, {\n          pageNumber: 1,\n          width: isMobile ? undefined : 200\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          color: '#888',\n          marginTop: 4\n        },\n        children: \"(1\\uD398\\uC774\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), file && file.type === 'image/jpeg' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        display: 'inline-block'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: URL.createObjectURL(file),\n        alt: \"\\uC5C5\\uB85C\\uB4DC\\uB41C \\uC774\\uBBF8\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30\",\n        style: {\n          ...previewStyle,\n          transform: `rotate(${imageRotation}deg)`,\n          transition: 'transform 0.2s'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onImageRotate,\n        style: {\n          position: 'absolute',\n          top: 10,\n          right: 10,\n          background: '#1976d2',\n          color: '#fff',\n          border: 'none',\n          borderRadius: '50%',\n          width: 32,\n          height: 32,\n          fontSize: 18,\n          cursor: 'pointer',\n          boxShadow: '0 2px 8px #bbb',\n          zIndex: 2\n        },\n        title: \"\\uC774\\uBBF8\\uC9C0 90\\uB3C4 \\uD68C\\uC804\",\n        children: \"\\u27F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(PdfUploader, \"pXwC9i82Phbps8CJN5PR7KRm9Ic=\");\n_c = PdfUploader;\nexport default PdfUploader;\nvar _c;\n$RefreshReg$(_c, \"PdfUploader\");","map":{"version":3,"names":["React","useState","Document","Page","jsxDEV","_jsxDEV","PdfUploader","onFileSelect","onImageRotate","imageRotation","_s","file","setFile","numPages","setNumPages","handleFileChange","event","uploadedFile","target","files","type","alert","onDocumentLoadSuccess","isMobile","window","innerWidth","previewStyle","maxWidth","maxHeight","borderRadius","boxShadow","marginTop","marginBottom","objectFit","display","background","style","minWidth","textAlign","children","color","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","padding","border","onLoadSuccess","pageNumber","width","undefined","position","src","URL","createObjectURL","alt","transform","transition","onClick","top","right","height","cursor","zIndex","title","_c","$RefreshReg$"],"sources":["/Users/max/mathocr-app/src/components/PdfUploader.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Document, Page } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\n\nfunction PdfUploader({ onFileSelect, onImageRotate, imageRotation }) {\n  const [file, setFile] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n\n  // 파일 업로드 핸들러\n  const handleFileChange = (event) => {\n    const uploadedFile = event.target.files[0];\n    if (!uploadedFile) return;\n\n    if (\n      uploadedFile.type === 'application/pdf' ||\n      uploadedFile.type === 'image/jpeg'\n    ) {\n      setFile(uploadedFile);\n      onFileSelect(uploadedFile);\n    } else {\n      alert('PDF 또는 JPG 파일만 업로드 가능합니다.');\n    }\n  };\n\n  // PDF 로드 성공 시 페이지 수 저장\n  const onDocumentLoadSuccess = ({ numPages }) => {\n    setNumPages(numPages);\n  };\n\n  // 반응형: PC는 왼쪽, 모바일은 위쪽에 미리보기\n  const isMobile = window.innerWidth < 700;\n  const previewStyle = {\n    maxWidth: isMobile ? '100%' : 220,\n    maxHeight: 300,\n    borderRadius: 8,\n    boxShadow: '0 2px 8px #eee',\n    marginTop: 16,\n    marginBottom: 8,\n    objectFit: 'contain',\n    display: 'block',\n    background: '#fff',\n  };\n\n  return (\n    <div style={{ minWidth: isMobile ? '100%' : 240, textAlign: 'center' }}>\n      <h2 style={{ color: '#1976d2', fontSize: 18, marginBottom: 8 }}>문제 풀이 파일 업로드</h2>\n      <input type=\"file\" accept=\".pdf,.jpg\" onChange={handleFileChange} style={{ marginBottom: 8 }} />\n      {/* 미리보기: PDF 또는 이미지 */}\n      {file && file.type === 'application/pdf' && (\n        <div style={{ ...previewStyle, padding: 4, border: '1px solid #eee' }}>\n          <Document file={file} onLoadSuccess={onDocumentLoadSuccess}>\n            <Page pageNumber={1} width={isMobile ? undefined : 200} />\n          </Document>\n          <div style={{ fontSize: 12, color: '#888', marginTop: 4 }}>\n            (1페이지 미리보기)\n          </div>\n        </div>\n      )}\n      {file && file.type === 'image/jpeg' && (\n        <div style={{ position: 'relative', display: 'inline-block' }}>\n          <img\n            src={URL.createObjectURL(file)}\n            alt=\"업로드된 이미지 미리보기\"\n            style={{ ...previewStyle, transform: `rotate(${imageRotation}deg)`, transition: 'transform 0.2s' }}\n          />\n          <button\n            onClick={onImageRotate}\n            style={{\n              position: 'absolute',\n              top: 10,\n              right: 10,\n              background: '#1976d2',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '50%',\n              width: 32,\n              height: 32,\n              fontSize: 18,\n              cursor: 'pointer',\n              boxShadow: '0 2px 8px #bbb',\n              zIndex: 2\n            }}\n            title=\"이미지 90도 회전\"\n          >⟳</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PdfUploader;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,QAAQ,EAAEC,IAAI,QAAQ,WAAW;AAC1C,OAAO,6CAA6C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,SAASC,WAAWA,CAAC;EAAEC,YAAY;EAAEC,aAAa;EAAEC;AAAc,CAAC,EAAE;EAAAC,EAAA;EACnE,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACA,MAAMc,gBAAgB,GAAIC,KAAK,IAAK;IAClC,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC1C,IAAI,CAACF,YAAY,EAAE;IAEnB,IACEA,YAAY,CAACG,IAAI,KAAK,iBAAiB,IACvCH,YAAY,CAACG,IAAI,KAAK,YAAY,EAClC;MACAR,OAAO,CAACK,YAAY,CAAC;MACrBV,YAAY,CAACU,YAAY,CAAC;IAC5B,CAAC,MAAM;MACLI,KAAK,CAAC,2BAA2B,CAAC;IACpC;EACF,CAAC;;EAED;EACA,MAAMC,qBAAqB,GAAGA,CAAC;IAAET;EAAS,CAAC,KAAK;IAC9CC,WAAW,CAACD,QAAQ,CAAC;EACvB,CAAC;;EAED;EACA,MAAMU,QAAQ,GAAGC,MAAM,CAACC,UAAU,GAAG,GAAG;EACxC,MAAMC,YAAY,GAAG;IACnBC,QAAQ,EAAEJ,QAAQ,GAAG,MAAM,GAAG,GAAG;IACjCK,SAAS,EAAE,GAAG;IACdC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE,gBAAgB;IAC3BC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE,SAAS;IACpBC,OAAO,EAAE,OAAO;IAChBC,UAAU,EAAE;EACd,CAAC;EAED,oBACE9B,OAAA;IAAK+B,KAAK,EAAE;MAAEC,QAAQ,EAAEd,QAAQ,GAAG,MAAM,GAAG,GAAG;MAAEe,SAAS,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACrElC,OAAA;MAAI+B,KAAK,EAAE;QAAEI,KAAK,EAAE,SAAS;QAAEC,QAAQ,EAAE,EAAE;QAAET,YAAY,EAAE;MAAE,CAAE;MAAAO,QAAA,EAAC;IAAY;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjFxC,OAAA;MAAOe,IAAI,EAAC,MAAM;MAAC0B,MAAM,EAAC,WAAW;MAACC,QAAQ,EAAEhC,gBAAiB;MAACqB,KAAK,EAAE;QAAEJ,YAAY,EAAE;MAAE;IAAE;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAE/FlC,IAAI,IAAIA,IAAI,CAACS,IAAI,KAAK,iBAAiB,iBACtCf,OAAA;MAAK+B,KAAK,EAAE;QAAE,GAAGV,YAAY;QAAEsB,OAAO,EAAE,CAAC;QAAEC,MAAM,EAAE;MAAiB,CAAE;MAAAV,QAAA,gBACpElC,OAAA,CAACH,QAAQ;QAACS,IAAI,EAAEA,IAAK;QAACuC,aAAa,EAAE5B,qBAAsB;QAAAiB,QAAA,eACzDlC,OAAA,CAACF,IAAI;UAACgD,UAAU,EAAE,CAAE;UAACC,KAAK,EAAE7B,QAAQ,GAAG8B,SAAS,GAAG;QAAI;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC,eACXxC,OAAA;QAAK+B,KAAK,EAAE;UAAEK,QAAQ,EAAE,EAAE;UAAED,KAAK,EAAE,MAAM;UAAET,SAAS,EAAE;QAAE,CAAE;QAAAQ,QAAA,EAAC;MAE3D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EACAlC,IAAI,IAAIA,IAAI,CAACS,IAAI,KAAK,YAAY,iBACjCf,OAAA;MAAK+B,KAAK,EAAE;QAAEkB,QAAQ,EAAE,UAAU;QAAEpB,OAAO,EAAE;MAAe,CAAE;MAAAK,QAAA,gBAC5DlC,OAAA;QACEkD,GAAG,EAAEC,GAAG,CAACC,eAAe,CAAC9C,IAAI,CAAE;QAC/B+C,GAAG,EAAC,sEAAe;QACnBtB,KAAK,EAAE;UAAE,GAAGV,YAAY;UAAEiC,SAAS,EAAE,UAAUlD,aAAa,MAAM;UAAEmD,UAAU,EAAE;QAAiB;MAAE;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpG,CAAC,eACFxC,OAAA;QACEwD,OAAO,EAAErD,aAAc;QACvB4B,KAAK,EAAE;UACLkB,QAAQ,EAAE,UAAU;UACpBQ,GAAG,EAAE,EAAE;UACPC,KAAK,EAAE,EAAE;UACT5B,UAAU,EAAE,SAAS;UACrBK,KAAK,EAAE,MAAM;UACbS,MAAM,EAAE,MAAM;UACdpB,YAAY,EAAE,KAAK;UACnBuB,KAAK,EAAE,EAAE;UACTY,MAAM,EAAE,EAAE;UACVvB,QAAQ,EAAE,EAAE;UACZwB,MAAM,EAAE,SAAS;UACjBnC,SAAS,EAAE,gBAAgB;UAC3BoC,MAAM,EAAE;QACV,CAAE;QACFC,KAAK,EAAC,0CAAY;QAAA5B,QAAA,EACnB;MAAC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACnC,EAAA,CApFQJ,WAAW;AAAA8D,EAAA,GAAX9D,WAAW;AAsFpB,eAAeA,WAAW;AAAC,IAAA8D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}